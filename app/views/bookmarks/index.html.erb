<p id="notice"><%= notice %></p>

<h1> <%= current_user.name %>'s Bookmarks</h1>
<h1><%= current_user.id %></h1>
<div id='title-search'>
<h4>Search by Title:</h4>
<%= form_tag(bookmarks_path, method: :get) do %>
  <%= text_field_tag(:search, params[:search]) %>
  <%= submit_tag ("search"), :name => nil %>
<% end %>
</div>

<div id='tag-list'>
<h4>Select by tags:</h4>
<%= form_tag(tags_path, method: :get) do %>
<ul>
  <% @tags.each do |tag| %>
    <li>
      <%= check_box_tag "[tag][]", tag.id %>
      <%= label_tag :tag, tag.tag  %>
    </li>
  <% end %>
  <%= submit_tag "Search" %>
  <% end %>
</ul>
</div>

<div id='bookmarks-list'>
    <% @bookmarks.each do |bookmark| %>
      <div class='bookmark'>
        <% if bookmark.screenshot.attached? %>
          <td><%= link_to href: bookmark.url do %>
            <%= image_tag bookmark.screenshot, alt: 'a really cool site'%>
          <% end %></td>
        <% end %>
        <p><%= bookmark.title %></p>
        <% bookmark.tags.each do |tag| %>
          <span><%= tag.tag %></span>
        <% end %>
        <p><%= link_to 'Show', bookmark %></p>
        <p><%= link_to 'Edit', edit_bookmark_path(bookmark) %></p>
        <p><%= link_to 'Destroy', bookmark, method: :delete, data: { confirm: 'Are you sure?' } %></p>
      </div>
    <% end %>
  </div>
  </tbody>
</table>

<br>

<%= link_to 'New Bookmark', new_bookmark_path %>
