<div id='index-head'>
  <div id='logout'>
    <p><%= link_to('Logout', destroy_user_session_path, method: :delete) %></p>
  </div>
  <div id='title-search'>
  <%= form_tag(bookmarks_path, method: :get) do %>
    <%= text_field_tag(:search, params[:search], placeholder: 'Search by title...') %>
    <%= button_tag "search", :name => nil %>
  <% end %>
  </div>
    <div id='welcome'><h2>Welcome, <%= current_user.name %></h2></div>
</div>

<i class="fas fa-caret-right fa-3x" id='open-button'></i>
<div id='filters' style="display: none">
  <i class="fas fa-caret-left fa-3x" id='close-button'></i>
  <h3>Order by:</h3>
  <%= form_tag(bookmarks_path, method: :get) do %>
    <div class='tag'>
      <%= radio_button_tag(:created_at, "newest") %>
      <%= label_tag(:created_at, "Newest first") %>
    </div>
    <div class='tag'>
      <%= radio_button_tag(:created_at, "oldest") %>
      <%= label_tag(:created_at, "Oldest first") %>
    </div>
    <%= submit_tag "Apply" %>
  <% end %>

  <h3>Select tags:</h3>
  <%= form_tag(bookmarks_path, method: :get) do %>
    <ul>
      <% @tags.each do |tag| %>        
        <li class='tag'>
          <%= check_box_tag "[tag][]", tag.id %>
          <%= label_tag :tag, tag.tag.capitalize %>
        </li>
      <% end %>      
    </ul>
    <%= submit_tag "Search", id: "tag-search" %>
  <% end %>
</div>

<div id='bookmarks-list'>
  <%= render 'list' %>
</div>
</div>


<script type="text/javascript">

// document.querySelector("input[type=checkbox]").addEventListener('click', function(){
//   console.log(this);
// })
  
document.getElementById('open-button').addEventListener('click', function(){
  openNav();
})
document.getElementById('close-button').addEventListener('click', function(){
  closeNav();
})

function openNav(){
  document.getElementById("bookmarks-list").style.marginLeft = "16vw";
  document.getElementById("filters").style.width = "16vw";
  document.getElementById("filters").style.display = "inline";
  document.getElementById("open-button").style.display = 'none';
}

function closeNav(){
  document.getElementById("bookmarks-list").style.marginLeft = "0%";
  document.getElementById("filters").style.display = "none";
  document.getElementById("open-button").style.display = "inline";
}

</script>
